<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bo.ucb.edu.ingsoft.dao.SkillDao">
    <resultMap id="skillsResultMap" type="bo.ucb.edu.ingsoft.model.Skill">
        <id column="skill_id" property="id"></id>
        <result column="skillName" property="skillName"></result>
        <result column="verified" property="verified"></result>
    </resultMap>
    <select id="getSkills" resultMap="skillsResultMap">
        SELECT
               skill_id as skillId,
               skill_name as skillName,
               verified as verified
        FROM skill
        WHERE
            verified = 1 and status = 1
    </select>
    <select id="getBySkillName" resultType="bo.ucb.edu.ingsoft.model.Skill">
        SELECT skillId as skillId,
        skill_name as skillName,
        verified as verified
        FROM skill
        WHERE verified = 1 and skill_name=#{skillName} and status = 1
    </select>
    <insert id="newSkill" parameterType="bo.ucb.edu.ingsoft.model.Skill">
        INSERT INTO skill VALUES (
            null,
            #{skillName},
            #{verified},
            #{status}
        )
    </insert>
    <update id="updateSkill" parameterType="bo.ucb.edu.ingsoft.model.Skill">
        Update skill
        set
            skill_name=#{certificateName},
            verified=#{company},
            status=#{expeditionDate}
        where
            skill_id = #{skillId} and status = 1
    </update>
</mapper>
